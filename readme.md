# Настройка Parcel для сборки проекта

[Документация Parcel](https://parceljs.org/getting_started.html)

## Шаг 1. Подключение Parcel и компиляция PUG-шаблонов

### Создаем папку для проекта и package.json

```
npm init -y
```

### Устанавливаем parcel глобально или локально

```
npm i -g parcel-bundler
npm i -D parcel-bundler
```

### Создаем корневой файл `src/index.pug`.

Точкой входа в проект может быть любой файл, лучше всего `.html`/`.js`.

Не нужно устанавливать никаких лоадеров/обработчиков. Parcel потом сам загрузит модуль `pug`, нужный для компиляции.

### Пишем команды для запуска в package.json

```
"scripts": {
  "start": "parcel src/index.pug --open",
  "build": "parcel build src/index.pug"
},
```

Опция `--open` нужна, чтобы при запуске вкладка с проектом открывалась в браузере автоматически.

### Запускаем npm start

В папке `dist` в корне проекта появляется скомпилированный файл `index.html`.

На [localhost:1234](http://localhost:1234/) запускается живое превью.

### Проверяем функциональность pug

Добавляем импорты, миксины, расширения и прочие плюшки.

Все работает, только почему-то страница не обновляется автоматически

### Проверяем подключение картинок

Используем изображения как обычно - подключаем в теге `img[src]`.

```
img(src="img/cat.jpg")
```

Картинка скопировалась в `dist`, добавился хеш, в финальном файле адрес обновился, но нет никаких оптимизаций.

Еще, конечно, хотелось бы помещать картинку не прямо в `dist`, а в `dist/img`, например.
